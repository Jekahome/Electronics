# Урок 30-31. Метод контурных токов. Часть 4-5. Схема с внешним и внутренним источником тока.

Если на схеме есть реальный источник тока ($J_5$), то его можно заменить на реальный источник ЭДС и продолжить расчеты, а если реальный источник тока ($J_6$) расположен на уникальной ветви контура (т.е. ветвь не общая между контурами) то контурный ток можно приравнять значением этого источника тока.

Если в контуре есть ветвь с источником тока идеальным или реальным то значение контурного тока равно источнику тока и следовательно уравнение для этого тока составлять нет необходимости. Направление контурного тока следует выбрать таким же как и направление идеального источника тока, для учета влияния на другие контуры.

Если идеальный источник тока ($J_1$) расположен на внутренней стороне т.е. его ветвь общая с другим контуром, тогда этот идеальный ток оставляют для первого контура, а второй контур выбирают с другой конфигурацией так, что бы он не содержал ветвь с этим идеальным источником тока (например, эта ветвь с идеальным источником тока может быть внутри нового контура)

### Пример расчета схемы с идеальным источником тока

![Метод контурных токов. Схема с внешним источником тока.](../img/88.png "Метод контурных токов. Схема с внешним источником тока.")

<a href="/theories_of_electrical_circuits/falstad/circuitjs-31.txt" download="circuitjs-31.txt">Скачать схему для www.falstad.com/circuit</a>

Подготовим схему для расчета

- Заменим реальный источник тока $J_5$ на реальный источник ЭДС $E_5$ по формуле:
  - $E_5 = J \cdot R_{\text{вн}} = J_5\cdot R_5 = 5\cdot 5 = 25, V $
- Заменим последовательное соединение резисторов $R´_3$, $R^{´'}_3$ на эквивалентное $R_{3\ экв}$:
    - $R_{3\ экв} = R´_3 + R^{´´}_3 = 1.5+1.5=3, Om$

Получим упрощенную схему. Выберем [контуры](/glossary_of_terms/index.html#Контур) и их направления:

![Метод контурных токов. Схема с внешним источником тока.](../img/89.png "Метод контурных токов. Схема с внешним источником тока.")   

Контур $II$ выбираем так, что бы у него небыло в расчетах ветви с идеальным источником тока $J_1$, так как она будет в другом контуре $I$. Контур $II$ будет включать в себя полностью контур $I$ и еще одну уникальную ветвь, которой нет в других контурах, это условие допускается.

Известные токи:
- $I_{11} = J_1 = 1, A$
- $I_{44} = J_6 = 6, A$


$N_{уравнений}=N_{ветвей} - N_{узлов} + 1 = 7 - 4 + 1 = 4$

Универсальные уравнения в общем виде:
- (1-й контур): $R_{11}\cdot I_{11} - R_{12}\cdot I_{22} + R_{13}\cdot I_{33} \plusmn R_{14}\cdot I_{44} = E_{11}$ (это уравнение лишнее так как ток контура нам известен $I_{11}=J_1$)
- (2-й контур): $- R_{21}\cdot I_{11} + R_{22}\cdot I_{22} - R_{23}\cdot I_{33} - R_{24}\cdot I_{44} = E_{22}$
- (3-й контур): $+ R_{31}\cdot I_{11} - R_{32}\cdot I_{22} + R_{33}\cdot I_{33} + R_{34}\cdot I_{44} = E_{33}$
- (4-й контур): $\plusmn R_{41}\cdot I_{11} \plusmn R_{42}\cdot I_{22} + R_{43}\cdot I_{33} + R_{44}\cdot I_{44} = E_{44}$ (это уравнение лишнее так как ток контура нам известен $I_{44}=I_6$)

Обозначим собственные (полные) сопротивления контура:
- $R_{11} = R_{1} + R_{2}$
- $R_{22} = R_{4} + R_{2} + R_{1} + R_{3}$
- $R_{33} = R_{5} + R_2 + R_{4}$
- $R_{44} = R_{5}$

Обозначим общие сопротивления контуров:
- $R_{12} = R_{21} = R_{2} + R_{1}$
- $R_{13} = R_{31} = R_{2} $
- $R_{14} = R_{41} = 0 $
- $R_{23} = R_{32} = R_{4} + R_{2}$
- $R_{24} = R_{42} = 0$
- $R_{34} = R_{43} = R_{5}$

Обозначим контурные ЭДС, (алгебраическая сумма т.е. с учетом знака):
- $E_{11}=-E_{1}$
- $E_{22}=-E_{4}+E_{1}-E_{3}$
- $E_{33}=-E_{5}+E_{4}$
- $E_{44}=-E_{5}$

Подставим значения:
- (1-й контур): $(R_{1} + R_{2})\cdot I_{11} - (R_{2} + R_{1})\cdot I_{22} + R_{2}\cdot I_{33} + 0 = -E_{1}$ (по прежнему нам не нужно)
- (2-й контур): $-(R_{2} + R_{1})\cdot I_{11} + (R_{4} + R_{2} + R_{1} + R_{3})\cdot I_{22} - (R_{4} + R_{2})\cdot I_{33} + 0 = -E_{4}+E_{1}-E_{3}$
- (3-й контур): $R_{2}\cdot I_{11} - (R_{4} + R_{2})\cdot I_{22} + (R_{5} + R_2 + R_{4})\cdot I_{33} + R_{5}\cdot I_{44} = -E_{5}+E_{4}$
- (4-й контур): $0 + 0 + R_{5}\cdot I_{33} + R_{5}\cdot I_{44} = -E_{5}$  (по прежнему нам не нужно)

Подставим значения известных $R$ и $E$:
- (2-й контур): $- (2 + 1)\cdot I_{11} + (4 + 2 + 1 + 3)\cdot I_{22} - (4 + 2)\cdot I_{33} = -4+1-3$
- (3-й контур): $2\cdot I_{11} - (4 + 2)\cdot I_{22} + (5 + 2 + 4)\cdot I_{33} + 5\cdot I_{44} = -25+4$

Система уравнений для нахождения $I_{22}$ и $I_{33}$:

- (2-й контур): $-3\cdot I_{11} + 10\cdot I_{22} - 6\cdot I_{33} = -6$
- (3-й контур): $2\cdot I_{11} - 6\cdot I_{22} + 11\cdot I_{33} + 5\cdot I_{44} = -21$


Решение системы уравнений:
- $ I_{11} = 1 $
- $ I_{22} = -\frac{351}{74} \approx -4.743 $
- $ I_{33} = -\frac{274}{37} \approx -7.405 $
- $ I_{44} = 6 $

Выберем произвольно направления токов, но в ветви с источником тока, направление возьмем такое же.

![Метод контурных токов. Схема с внешним источником тока.](../img/90.png "Метод контурных токов. Схема с внешним источником тока.") 

Запишем уравнения токов ориентируясь на направление контуров. Если ток не совпадает с направление контура то вычитаем его иначе суммируем:
- $I_3=I_{22} = -4.743, A$ (направление не угадали)
- $I_1=I_{11} - I_{22} = 1-(-4.743) = 5.743, A$  
- $I_5=-I_{33}-I_{44} = -(-7.405) - 6 = 1.405, A$  
- $I_4=I_{22}-I_{33}=-4.743-(-7.405)= 2.662, A$  
- $I_2= I_{33} + I_{11} - I_{22} = -7.405 + 1 - (-4.743)= −1.662, A$  (направление не угадали. И на ток $I_2$ оказывает влияние аж три контура)

![Метод контурных токов. Схема с внешним источником тока.](../img/91.png "Метод контурных токов. Схема с внешним источником тока.") 

<a href="/theories_of_electrical_circuits/falstad/circuitjs-31.2.txt" download="circuitjs-31.2.txt">Скачать схему для www.falstad.com/circuit</a>
