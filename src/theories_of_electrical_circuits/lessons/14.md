# Делитель напряжения

Делитель напряжения — это простая электрическая схема, которая позволяет получить из входного напряжения ($U_{вх}$) более низкое выходное напряжение ($U_{вых}$). Он состоит из двух или более резисторов, соединённых последовательно. Делитель напряжения широко используется в электронике для получения опорных напряжений, снижения уровня сигналов или измерения напряжений.

```
Для получения 5 вольт на выходе, имея 9 вольт на входе

+9V ---- R top ----+---- R bottom ---- GND
                   |
               5V (output)
                   |
               нагрузка load
                   |
                  GND

```

**Применение**
1. Создание опорного напряжения — для питания микросхем, которым требуется определённое напряжение.
2. Измерение напряжения — в сочетании с аналого-цифровыми преобразователями (АЦП).
3. Регулировка уровня сигнала — в аудиотехнике или измерительных приборах.
4. Защита входов микросхем — для снижения напряжения до безопасного уровня.


**Принцип работы**
Делитель напряжения работает на основе закона Ома и правила последовательного соединения резисторов. Если два резистора $R_1$ и $R_2$ соединены последовательно, то напряжение на каждом из них пропорционально их сопротивлению.
 
![Делитель напряжения.](../img/121.png "Делитель напряжения.") 

Формула для расчёта выходного напряжения:
 
$U_{вых} = U_{вх} \cdot \frac{R_{bottom}}{R_{top} + R_{bottom}}$
 
где:
- $U_{вх}$ — входное напряжение,
- $R_{top}$ — сопротивление первого резистора,
- $R_{bottom}$ — сопротивление второго резистора,
- $U_{вых}$ — выходное напряжение.

```admonish info
Нам в любом случае нужно обеспечить, чтобы **ток через делитель был значительно больше, чем ток нагрузки**. Это гарантирует, что выходное напряжение делителя будет стабильным и не будет "проседать" при подключении нагрузки.

Вообщем, в не зависимости от тока нагрузки и его сопротивления, нам следует подобрать сопротивление делителя так, что бы протекающий через него ток был значительно больше тока нагрузки

Чтобы **ток через делитель напряжения** был **значительно больше**, чем **ток нагрузки**, сопротивление резисторов делителя должно быть **меньше**, чем **сопротивление нагрузки**. Это обеспечивает "жёсткость" делителя и предотвращает "просадку" напряжения при подключении нагрузки.

$R_{top} + R_{bottom} \ll R_{нагрузки}$

```


### Пример с большим током нагрузки (т.е. сопротивление нагрузки низкое)

![Делитель напряжения.](../img/123.png "Делитель напряжения.") 

Есть входное напряжение $U_{вх}=E=9$ вольт, и датчик $R_{н}$ с рабочим напряжением 5 вольт и обладает сопротивлением 500 Ом до нужного уровня тока делителя. 
Расчитать такие значения сопротивлений резисторов делителя $R_{top}$ и $R_{bottom}$, что бы получить 5 вольт на выходе $U_{вых}$ и обеспечить значительно больший ток делителя чем на нагрузке <br>($R_{top} + R_{bottom}≪R_{нагрузки}$)
 
Расчитаем ожидаемый ток нагрузки, если подать необходимые 5 вольт:
- $I_{нагрузки}= \frac{U}{R_{нагрузки}} = \frac{5}{500}=0.01\ A$ ($\approx 10\ мА$)

Тогда ток через делить должен быть значительно больше чем $0.01\ A$, допустим в 30 раз:
- $I_{делителя}= I_{нагрузки} \cdot 30 =0.3\ A$ ($\approx 300\ mA$)

Нам нужно знать общее сопротивление делителя $R_{обш}=R_{top} + R_{bottom}$, что бы посчитать его ток $I_{делителя}$:
- $R_{обш}=\frac{U_{вх}}{I_{делителя}}=\frac{9}{0.3}=30\ Om$


Из формулы для расчёта выходного напряжения, найдем соотношение резисторов:
- $U_{вых} = U_{вх} \cdot \frac{R_{bottom}}{R_{top} + R_{bottom}} \to 5 = 9 \cdot \frac{R_{bottom}}{R_{top} + R_{bottom}}$

Упростим уравнение:
* $\frac{R_{bottom}}{R_{top} + R_{bottom}} = \frac{5}{9}$
 
Подставим $R_{top} + R_{bottom} = R_{обш} = 30$:
* $\frac{R_{bottom}}{30} = \frac{5}{9}$
* $R_{bottom}=\frac{5}{9}\cdot 30 \approx 16.666666667\ Om$

Тогда найдем $R_{top}$:
* $R_{top}=30-R_{bottom}=30-16.666666667 \approx 13.333\ Om$

Условие $R_{top} + R_{bottom} \ll R_{нагрузки}$ выполняется: $30 \, \text{Ом} \ll 500 \, \text{Ом}$

Проверка стабильности
- Ток через делитель: $I_{делителя}= \frac{U_{вх}}{R_{top} + R_{bottom}} =\frac{9}{30} = 0.3\ A$ (300 мА)  
- Ток нагрузки: $I_{нагрузки}= \frac{U_{вых}}{R_{нагрузки}}=\frac{5}{500} = 0.01\ A$ (10 мА)

Проверим расчеты сопротивлений делителя по выходному напряжению:
- $R_{экв}=\frac{R_{bottom}\cdot R_{нагрузки}}{R_{bottom} + R_{нагрузки}}= \frac{16.666666667\cdot 500}{16.666666667 + 500}\approx 16.129032258\ Om$ (параллельное соединение резисторов)
- $U_{вых}=U_{вх} \cdot \frac{R_{экв}}{R_{top} + R_{экв}}=9\cdot \frac{16.129032258}{13.333 + 16.129032258}\approx 4.92\ V$

Влияние нагрузки:
- Нагрузка потребляет 10 мА, что составляет 3.3% от тока через делитель.
- Напряжение на выходе немного "просядет", но это будет незначительно.

$\frac{0.01\ A}{0.3\ A}\cdot 100 = 0.033333333\cdot 100=3.3$%

---

### Пример с малым током нагрузки (т.е. сопротивление нагрузки высокое)

![Делитель напряжения.](../img/122.png "Делитель напряжения.") 

Есть входное напряжение $U_{вх}=E=9$ вольт, и датчик $R_{н}$ с рабочим напряжением 5 вольт и обладает сопротивлением 2000000 Ом т.е. 2 MOm до нужного уровня тока делителя. 
Расчитать такие значения сопротивлений резисторов делителя $R_{top}$ и $R_{bottom}$, что бы получить 5 вольт на выходе $U_{вых}$ и обеспечить значительно больший ток делителя чем на нагрузке <br>($R_{top} + R_{bottom}≪R_{нагрузки}$)

Расчитаем ожидаемый ток нагрузки, если подать необходимые 5 вольт:
- $I_{нагрузки}= \frac{U}{R_{нагрузки}} = \frac{5}{2000000}=0.0000025\ A$  (0.0025 мА)

Тогда ток через делить должен быть значительно больше чем $0.0000025\ A$, допустим в 100 раз (чем больше разница, тем меньше "просядет" напряжение):
- $I_{делителя}= I_{нагрузки} \cdot 100 = 0.00025\ A$ (0.25 мА)

Нам нужно знать общее сопротивление делителя $R_{обш}=R_{top} + R_{bottom}$, что бы посчитать его ток $I_{делителя}$:
- $R_{обш}=\frac{U_{вх}}{I_{делителя}}=\frac{9}{0.00025}=36000\ Om$ (36 кОм)

Из формулы для расчёта выходного напряжения, найдем соотношение резисторов:
- $U_{вых} = U_{вх} \cdot \frac{R_{bottom}}{R_{top} + R_{bottom}} \to 5 = 9 \cdot \frac{R_{bottom}}{R_{top} + R_{bottom}}$

Упростим уравнение:
* $\frac{R_{bottom}}{R_{top} + R_{bottom}} = \frac{5}{9}$

Подставим $R_{top} + R_{bottom} = R_{обш} = 36000$:
* $\frac{R_{bottom}}{36000} = \frac{5}{9}$
* $R_{bottom}=\frac{5}{9}\cdot 36000 = 20000\ Om$ (20 кОм)

Тогда найдем $R_{top}$:
* $R_{top}=90000-R_{bottom}=36000-20000 = 16000\ Om$ (16 кОм)

Условие $R_{top} + R_{bottom} \ll R_{нагрузки}$ выполняется: $36000 \, \text{Ом} \ll 2000000 \, \text{Ом}$

Проверка стабильности
- Ток через делитель: $I_{делителя}= \frac{U_{вх}}{R_{top} + R_{bottom}} =\frac{9}{36000} = 0.00025\ A$ (0.25 mA)    
- Ток нагрузки: $I_{нагрузки}= \frac{U_{вых}}{R_{нагрузки}}=\frac{5}{2000000} = 0.0000025\ A$ (0.0025 mA)

Проверим расчеты сопротивлений делителя по выходному напряжению:
- $R_{экв}=\frac{R_{bottom}\cdot R_{нагрузки}}{R_{bottom} + R_{нагрузки}}= \frac{20000\cdot 2000000}{20000 + 2000000} = 19801.98\ Om$ (параллельное соединение резисторов)
- $U_{вых}=U_{вх} \cdot \frac{R_{экв}}{R_{top} + R_{экв}}=9\cdot \frac{19801.98}{16000 + 19801.98}\approx 4.97\ V$


Влияние нагрузки:
- Нагрузка потребляет 0.0000025 A, что составляет 2.5% от тока через делитель.
- Напряжение на выходе немного "просядет", но это будет незначительно.

$\frac{0.0000025\ A}{0.00025\ A}\cdot 100 = 0.01\cdot 100=1$%

---


### Пример делителя из трех резисторов

<details>

<summary>Пример делителя из трех резисторов</summary>
 
Если в делителе напряжения используется **три резистора**, соединённых последовательно, то принцип работы остаётся тем же, но формула для расчёта выходного напряжения усложняется. В этом случае напряжение можно снимать между любыми двумя точками цепи, и оно будет зависеть от сопротивлений всех трёх резисторов.

**Общая схема**
Пусть три резистора $R_1$, $R_2$ и $R_3$ соединены последовательно, и к ним приложено входное напряжение $U_{вх}$. Тогда:
- Напряжение на каждом резисторе определяется по закону Ома.
- Общее сопротивление цепи: $R_{общ} = R_1 + R_2 + R_3$.
- Ток в цепи: $I = \frac{U_{вх}}{R_{общ}}$.


**Формулы для напряжений**
1. **Напряжение между точкой после $R_1$ и землёй (GND):**
   
   $U_1 = U_{вх} \cdot \frac{R_1}{R_1 + R_2 + R_3}$
  

2. **Напряжение между точкой после $R_2$ и землёй (GND):**
   
   $U_2 = U_{вх} \cdot \frac{R_1 + R_2}{R_1 + R_2 + R_3}$
  

3. **Напряжение между точкой после $R_3$ и землёй (GND):**
   
   $U_3 = U_{вх} \cdot \frac{R_1 + R_2 + R_3}{R_1 + R_2 + R_3} = U_{вх}$
   

Пусть $U_{вх} = 12\, \text{В}$, $R_1 = 2\, \text{кОм}$, $R_2 = 3\, \text{кОм}$, $R_3 = 5\, \text{кОм}$.

1. Общее сопротивление:
   
   $R_{общ} = R_1 + R_2 + R_3 = 2 + 3 + 5 = 10\, \text{кОм}$
   
2. Ток в цепи:
   
   $I = \frac{U_{вх}}{R_{общ}} = \frac{12}{10} = 1.2\, \text{мА}$
   
3. Напряжение на каждом резисторе:
   - Напряжение на $R_1$:
    
     $U_{R1} = I \cdot R_1 = 1.2 \cdot 2 = 2.4\, \text{В}$
    
   - Напряжение на \(R_2\):
     
     $U_{R2} = I \cdot R_2 = 1.2 \cdot 3 = 3.6\, \text{В}$
     
   - Напряжение на \(R_3\):
    
     $U_{R3} = I \cdot R_3 = 1.2 \cdot 5 = 6\, \text{В}$
    
4. Напряжение между точками:
   - Между $R_1$ и GND: $U_1 = 2.4\, \text{В}$
   - Между $R_2$ и GND: $U_2 = 2.4 + 3.6 = 6\, \text{В}$
   - Между $R_3$ и GND: $U_3 = 12\, \text{В}$

</details>

**Важные замечания**
1. Ток через делитель должен быть значительно больше, чем ток нагрузки, чтобы выходное напряжение не "проседало".
2. Если делитель используется для питания нагрузки, необходимо учитывать её сопротивление, так как оно может изменить общее сопротивление цепи.
3. Для повышения точности используют прецизионные резисторы с малым допуском.

Делитель напряжения работает хорошо, если датчик потребляет маленький ток. Если он потребляет много, лучше использовать стабилизатор напряжения или операционный усилитель как буфер.


## Пример, создание опорного напряжения — для питания микросхем/датчиков, которым требуется определённое напряжение.

Если датчик потребляет большой ток (то есть у него малое сопротивление), он начинает «просаживать» напряжение, потому что создаёт дополнительное сопротивление, параллельное нижнему резистору делителя. В делителе напряжения нет активного источника тока — он просто делит напряжение по законам Ома.

Если нагрузка (микросхема/датчик) забирает много тока, напряжение на выходе падает ниже, чем рассчитано по формуле, потому что нижний резистор делителя вместе с нагрузкой образует параллельное сопротивление, уменьшая общее сопротивление нижнего плеча. В результате делитель уже не даст рассчитанное напряжение, а меньше ожидаемого.

Из-за этого датчик может перестать корректно работать, либо вообще не включится, если напряжение упадёт слишком сильно.

Если нужно питать датчик с большим током, вместо простого делителя напряжения лучше использовать стабилизатор напряжения или буферный усилитель, который обеспечит нужное напряжение, не теряя его под нагрузкой.

Для большинства случаев, особенно при работе с датчиками и слаботочными нагрузками, лучше использовать килоомы в качестве значений делителя. Это уменьшает ток через делитель, снижает энергопотребление и минимизирует влияние на нагрузку. Если сопротивление резисторов слишком большое, это может привести к тому, что датчик не получит достаточного тока для корректной работы. Поэтому важно выбирать резисторы так, чтобы напряжение на выходе было правильным, а ток был достаточным для работы датчика. Если для вашего датчика важно, чтобы ток был достаточно большим, нужно будет уменьшить сопротивление резисторов, но при этом все равно нужно соблюдать требуемое соотношение для получения правильного выходного напряжения

